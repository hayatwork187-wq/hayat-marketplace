import { useState } from "react";
import { Eye, EyeOff, Mail, Lock, ArrowRight, ShieldCheck } from "lucide-react";

const Auth = () => {
  const [showPassword, setShowPassword] = useState(false);
  const [isLogin, setIsLogin] = useState(true);
  const [step, setStep] = useState(1); // الخطوة 1 للتسجيل، الخطوة 2 لرمز التحقق

  return (
    <div className="min-h-screen bg-[#F0F2F5] p-6 flex flex-col justify-center font-sans" dir="rtl">
      <div className="bg-white rounded-[32px] p-8 shadow-xl border border-gray-100 max-w-md mx-auto w-full">
        <img src="/logo.png" alt="Logo" className="h-12 mx-auto mb-6" />
        
        {step === 1 ? (
          <>
            <h2 className="text-2xl font-black text-[#191970] mb-2 text-center">
              {isLogin ? "مرحباً بك مجدداً" : "إنشاء حساب جديد"}
            </h2>
            <p className="text-gray-500 text-xs text-center mb-8">
              {isLogin ? "سجل دخولك لمتابعة التسوق" : "سجل الآن وابدأ بربح الرصيد"}
            </p>

            <div className="space-y-4 text-right">
              <div className="relative">
                <Mail className="absolute right-4 top-4 text-gray-400 w-5 h-5" />
                <input type="email" placeholder="البريد الإلكتروني" className="w-full p-4 pr-12 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-[#191970] text-sm text-right" />
              </div>

              <div className="relative">
                <Lock className="absolute right-4 top-4 text-gray-400 w-5 h-5" />
                <input 
                  type={showPassword ? "text" : "password"} 
                  placeholder="كلمة السر" 
                  className="w-full p-4 pr-12 rounded-2xl bg-gray-50 border-none focus:ring-2 focus:ring-[#191970] text-sm text-right"
                />
                <button onClick={() => setShowPassword(!showPassword)} className="absolute left-4 top-4 text-gray-400">
                  {showPassword ? <EyeOff className="w-5 h-5" /> : <Eye className="w-5 h-5" />}
                </button>
              </div>

              <button 
                onClick={() => !isLogin ? setStep(2) : null}
                className="w-full bg-[#191970] text-white py-4 rounded-2xl font-bold shadow-lg flex items-center justify-center gap-2"
              >
                {isLogin ? "دخول" : "إنشاء الحساب"}
                <ArrowRight className="w-5 h-5 rotate-180" />
              </button>
            </div>
          </>
        ) : (
          <div className="text-center">
            <div className="bg-blue-50 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
              <ShieldCheck className="text-[#191970] w-8 h-8" />
            </div>
            <h2 className="text-xl font-black text-[#191970] mb-2">تأكيد الحساب</h2>
            <p className="text-gray-500 text-xs mb-6">أدخل الرمز المكون من 6 أرقام المرسل إلى بريدك</p>
            <input type="text" maxLength={6} placeholder="- - - - - -" className="w-full p-4 text-center text-2xl tracking-widest rounded-2xl bg-gray-50 border-2 border-dashed border-gray-200 focus:border-[#191970] focus:ring-0 mb-6" />
            <button className="w-full bg-[#191970] text-white py-4 rounded-2xl font-bold">تأكيد الرمز</button>
          </div>
        )}

        <button onClick={() => {setIsLogin(!isLogin); setStep(1);}} className="w-full mt-6 text-xs text-gray-400 font-medium">
          {isLogin ? "ليس لديك حساب؟ سجل هنا" : "لديك حساب بالفعل؟ ادخل هنا"}
        </button>
      </div>
    </div>
  );
};

export default Auth;
